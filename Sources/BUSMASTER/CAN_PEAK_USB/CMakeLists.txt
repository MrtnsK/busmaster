set(headers
  CAN_PEAK_USB_Extern.h)

add_custom_command(
  OUTPUT ${PROJECT_SOURCE_DIR}/BIN/${CMAKE_BUILD_TYPE}/CAN_PEAK_USB.dll
  COMMAND ${CMAKE_COMMAND} ARGS -E make_directory ${PROJECT_SOURCE_DIR}/BIN/${CMAKE_BUILD_TYPE}/
  COMMAND ${CMAKE_COMMAND} ARGS -E copy ${CMAKE_CURRENT_SOURCE_DIR}/CAN_PEAK_USB.dll ${PROJECT_SOURCE_DIR}/BIN/${CMAKE_BUILD_TYPE}/
  COMMAND ${CMAKE_COMMAND} ARGS -E copy ${CMAKE_CURRENT_SOURCE_DIR}/EXTERNAL/CanApi2.dll ${PROJECT_SOURCE_DIR}/BIN/${CMAKE_BUILD_TYPE}/)

add_custom_target(CAN_PEAK_USB ALL
  DEPENDS ${PROJECT_SOURCE_DIR}/BIN/${CMAKE_BUILD_TYPE}/CAN_PEAK_USB.dll)
